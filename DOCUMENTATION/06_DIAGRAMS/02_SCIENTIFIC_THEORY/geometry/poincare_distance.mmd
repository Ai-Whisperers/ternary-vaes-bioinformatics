%%{init: {'theme': 'base', 'themeVariables': { 'primaryColor': '#2196f3', 'edgeLabelBackground':'#f9f9f9', 'tertiaryColor': '#e1e4e8'}} }%%
graph TD
    classDef frozen fill:#e1e4e8,stroke:#333,stroke-dasharray: 5 5;
    classDef trainable fill:#c8e6c9,stroke:#2e7d32,stroke-width:2px;
    classDef hyperbolic fill:#e1bee7,stroke:#7b1fa2,stroke-width:2px;
    
    %% PoincarÃ© Distance Formula

    u[Vector u]:::frozen
    v[Vector v]:::frozen
    NormU["||u||^2"]
    NormV["||v||^2"]
    Diff["||u - v||^2"]
    
    u --> NormU
    v --> NormV
    u --> Diff
    v --> Diff
    
    Term1["1 - ||u||^2"]
    Term2["1 - ||v||^2"]
    
    NormU --> Term1
    NormV --> Term2
    
    Num["2 * ||u - v||^2"]
    Diff --> Num
    
    Denom["Term1 * Term2"]
    Term1 --> Denom
    Term2 --> Denom
    
    Frac["1 + (Num / Denom)"]
    Num --> Frac
    Denom --> Frac
    
    Dist["arcosh(Frac)"]:::hyperbolic
    Frac --> Dist
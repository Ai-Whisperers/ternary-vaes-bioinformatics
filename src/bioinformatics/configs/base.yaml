# DDG Multimodal VAE - Base Configuration
# ==============================================
# This is the base configuration shared by all DDG prediction pipelines.
# Override specific values in dataset-specific configs.

# Reproducibility settings
reproducibility:
  seed: 42
  deterministic: true
  benchmark: false  # Disable cuDNN benchmark for determinism
  hash_seed: true

# Training parameters
training:
  epochs: 100
  batch_size: 32
  learning_rate: 1.0e-4
  weight_decay: 1.0e-5
  grad_clip: 1.0

  # Learning rate schedule
  scheduler: cosine  # Options: cosine, plateau, none
  scheduler_patience: 10
  min_lr: 1.0e-6

  # Early stopping
  early_stopping_patience: 20
  early_stopping_metric: val_spearman

# Validation
validation:
  val_ratio: 0.2
  val_every: 1

# Checkpointing
checkpointing:
  save_every: 10
  keep_last: 5
  save_best: true
  metric: val_spearman

# Logging
logging:
  tensorboard: true
  log_every: 10
  verbose: true
  save_config: true

# Model architecture defaults
model:
  input_dim: 14  # Base physicochemical features
  hidden_dim: 64
  latent_dim: 16
  n_layers: 2
  activation: silu
  dropout: 0.1
  use_layer_norm: true

  # VAE parameters
  beta: 1.0  # KL weight
  logvar_min: -10.0
  logvar_max: 2.0
  beta_schedule: constant  # Options: constant, warmup, cyclic

  # Hyperbolic features
  use_hyperbolic: true
  hyperbolic_dim: 4

# Data paths (relative to project root)
data:
  base_dir: data/bioinformatics/ddg
  protherm_dir: ${data.base_dir}/protherm
  s669_dir: ${data.base_dir}/s669
  proteingym_dir: ${data.base_dir}/proteingym

# Output paths
output:
  base_dir: outputs/bioinformatics
  checkpoints_dir: ${output.base_dir}/checkpoints
  logs_dir: ${output.base_dir}/logs
  results_dir: ${output.base_dir}/results

# Hardware
hardware:
  device: cuda
  num_workers: 0  # 0 for full determinism
  pin_memory: true
  mixed_precision: false  # Enable for faster training on supported GPUs
